extends layout
  
block content
  .row(style={padding:'30px'})  
    br
    h1.text-center ORDER LIST
    label 주문할 상품
    hr(style={border:'2px solid black'})
    .row
      .col-sm-1.text-center 
        label 번호
      .col-sm-7.text-center 
        label 구입 상품명
      .col-sm-1.text-center 
        label 수량
      .col-sm-2.text-center 
        label 가격
      .col-sm-1.text-center 
        label 배송비
    hr(style={border:'2px solid #b7b7b7'})
    each list, i in rows
      #listrows.row
        .col-sm-1.text-center 
          label=i
        .col-sm-3
          .row.text-center 
            img(src="/images/"+list.mainimage,style={width:'20%',height:'70px'})
          br
          span.glyphicon.glyphicon-play 
          span.label.label-warning
            옵션
          label
            색상:
          label=list.color
          label ,사이즈
          label=list.size
        .col-sm-4 
          label=list.productname
        .col-sm-1.text-center 
          label=list.productcount
        .col-sm-2.text-center 
          label=list.price
          label 원
        .col-sm-1.text-center 
          label [기본배송]
      br  
    .row
      .col-sm-8
      .col-sm-4
        label 총 구매 금액:
        label 0원
        label + 배송료 2,500원 = 
        label 2500원
    hr(style={border:'2px solid #b7b7b7'})
    .row(style={background:'#ededed'})
      br
      .col-sm-3
      .col-sm-6
        label #{session.displayname} 
        label 님은 
        label(style={color:'red'}) [kun]
        label 회원입니다.
      .col-sm-3
      br
    .row(style={padding:'12px'})
      .row
        label 주문자 정보
      .row
        table.table.table-bordered
          #trhead.tr
            th 이름
            td(colspan=3) 김범영
          tr
            th E-mail
            td qjadud22@naver.com
            th 연락처
            td 01076705549
    .row(style={padding:'12px'})
      .row
        .col-sm-1(style={padding:'0px'})
          label 배송지 정보
        .col-sm-8
        .col-sm-3
          input(type="checkbox" name="checkbox",style={width:'10%'})
          label 주문자 정보 입력
          
      .row
        table.table.table-bordered
          #trhead.tr
            th 이름
            td 김범영
            th 연락처
            td 01076705549
          tr
            th 주소
            td(colspan=3)
              ul
                li
                  input(type="radio", name="address",style={width:'1%'})
                  |자택
                  input(type="radio", name="address",style={width:'1%'})
                  |회사
                  input(type="radio", name="address",style={width:'1%'})
                  |최근배송지
                li 
                  br
                li 
                  br
          #trbottomtr 
            th 주문메세지
            td(colspan=3) 
              textarea(rows='4',cols='100')
      .row(style={padding:'12px'})
        .row 
          label 쿠폰 사용
        .cuponBox.row
          .cuponinput.col-sm-2(style={})
            input(type="text",style={width:'60%'})
            button(type="submit") 쿠폰선택
          .col-sm-10
            label 보유하신 쿠폰을 적용하시면 할인 또는 추가적립 혜택을 받으실 수 있습니다.
      br
      .row.text-center
        button(type="submit",style={width:'15%',height:'50px'}).btn.btn-default 주문하기
        button(type="submit",style={width:'15%',height:'50px'}).btn.btn-default 주문취소
      .row
        input#sample4_postcode(type='text', placeholder='우편번호')
        input(type='button', onclick='sample4_execDaumPostcode()', value='우편번호 찾기')
        input#sample4_roadAddress(type='text', placeholder='도로명주소')
        input#sample4_jibunAddress(type='text', placeholder='지번주소')
        span#guide(style='color:#999')
          
        
        
          script.
            //본 예제에서는 도로명 주소 표기 방식에 대한 법령에 따라, 내려오는 데이터를 조합하여 올바른 주소를 구성하는 방법을 설명합니다.
            function sample4_execDaumPostcode() {
            new daum.Postcode({
            oncomplete: function(data) {
            // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.
            // 도로명 주소의 노출 규칙에 따라 주소를 조합한다.
            // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
            var fullRoadAddr = data.roadAddress; // 도로명 주소 변수
            var extraRoadAddr = ''; // 도로명 조합형 주소 변수
            // 법정동명이 있을 경우 추가한다. (법정리는 제외)
            // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
            if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
            extraRoadAddr += data.bname;
            }
            // 건물명이 있고, 공동주택일 경우 추가한다.
            if(data.buildingName !== '' && data.apartment === 'Y'){
            extraRoadAddr += (extraRoadAddr !== '' ? ', ' + data.buildingName : data.buildingName);
            }
            // 도로명, 지번 조합형 주소가 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
            if(extraRoadAddr !== ''){
            extraRoadAddr = ' (' + extraRoadAddr + ')';
            }
            // 도로명, 지번 주소의 유무에 따라 해당 조합형 주소를 추가한다.
            if(fullRoadAddr !== ''){
            fullRoadAddr += extraRoadAddr;
            }
            // 우편번호와 주소 정보를 해당 필드에 넣는다.
            document.getElementById('sample4_postcode').value = data.zonecode; //5자리 새우편번호 사용
            document.getElementById('sample4_roadAddress').value = fullRoadAddr;
            document.getElementById('sample4_jibunAddress').value = data.jibunAddress;
            // 사용자가 '선택 안함'을 클릭한 경우, 예상 주소라는 표시를 해준다.
            if(data.autoRoadAddress) {
            //예상되는 도로명 주소에 조합형 주소를 추가한다.
            var expRoadAddr = data.autoRoadAddress + extraRoadAddr;
            document.getElementById('guide').innerHTML = '(예상 도로명 주소 : ' + expRoadAddr + ')';
            } else if(data.autoJibunAddress) {
            var expJibunAddr = data.autoJibunAddress;
            document.getElementById('guide').innerHTML = '(예상 지번 주소 : ' + expJibunAddr + ')';
            } else {
            document.getElementById('guide').innerHTML = '';
            }
            }
            }).open();
            }
  
